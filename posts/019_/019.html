<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Raymond Liu Ao">
<meta name="dcterms.date" content="2025-10-21">
<meta name="description" content="Testing Google’s NotebookLM with lecture notes and readings for MKTG exam">

<title>NotebookLM for Exam Prep: Gemini’s Research Assistant – What Can You Do With AI?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8fd1faf6fd93e4e6d207ae0f9db51d78.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">What Can You Do With AI?</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/liuaoraymond"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/liuaoray/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">NotebookLM for Exam Prep: Gemini’s Research Assistant</h1>
                  <div>
        <div class="description">
          Testing Google’s NotebookLM with lecture notes and readings for MKTG exam
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">AI</div>
                <div class="quarto-category">LLM</div>
                <div class="quarto-category">professional</div>
                <div class="quarto-category">daily-life</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Raymond Liu Ao </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 21, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="a-year-of-gemini-pro-testing-notebooklm" class="level2">
<h2 class="anchored" data-anchor-id="a-year-of-gemini-pro-testing-notebooklm">A Year of Gemini Pro: Testing NotebookLM</h2>
<p>I got access to Gemini Pro for a year and decided to test Google’s NotebookLM for my upcoming MKTG exam. NotebookLM markets itself as an AI research assistant that grounds its responses in your uploaded sources—supposedly reducing hallucinations and providing more reliable study support.</p>
<p>I uploaded my lecture notes, course readings, and lecture transcripts to see if it actually lives up to the claims. Spoiler: I actually liked it.</p>
<p><img src="notebooklm-interface.jpg" alt="NotebookLM Interface" style="max-width: 450px; max-height: 300px; object-fit: contain; display: block; margin: 20px auto;"></p>
<p><em>NotebookLM’s interface with uploaded course materials</em></p>
</section>
<section id="what-i-uploaded" class="level2">
<h2 class="anchored" data-anchor-id="what-i-uploaded">What I Uploaded</h2>
<p>For my MKTG exam prep, I loaded NotebookLM with:</p>
<p><strong>Lecture Notes:</strong> Typed notes from all lectures covering consumer behavior, market segmentation, brand positioning, and pricing strategies.</p>
<p><strong>Course Readings:</strong> PDFs of assigned textbook chapters and case studies.</p>
<p><strong>Lecture Transcripts:</strong> Auto-generated transcripts from recorded lectures (with professor’s verbal explanations and examples).</p>
<p>The total was probably 200+ pages of material. In the past, I’ve used Claude Projects for this, so I was curious how NotebookLM would compare. It took around 2 hours to load the material in.</p>
</section>
<section id="how-notebooklm-actually-works" class="level2">
<h2 class="anchored" data-anchor-id="how-notebooklm-actually-works">How NotebookLM Actually Works</h2>
<section id="source-grounding" class="level3">
<h3 class="anchored" data-anchor-id="source-grounding">Source Grounding</h3>
<p>The key feature: NotebookLM claims to only use information from your uploaded sources. When it answers questions, it provides citations showing exactly which document and section it pulled from.</p>
<p>I tested this by asking about a specific marketing framework we covered in class. NotebookLM gave me the answer and cited: “Lecture Notes, Week 4, Page 3” and “Consumer Behavior Reading, Chapter 7, Section 2.”</p>
<p>I checked the sources—it was accurate. The information came directly from those sections, not from generic marketing knowledge Gemini learned during training.</p>
</section>
<section id="the-qa-experience" class="level3">
<h3 class="anchored" data-anchor-id="the-qa-experience">The Q&amp;A Experience</h3>
<p>I could ask specific questions like: - “How is creativity broadly defined in the course?” - “Explain the difference between attribute dependency and subsituttion in Systematic Innovation Theory (SIT)” - “What examples did the professor give for constraints leading to creativity?”</p>
<p>NotebookLM pulled answers from the uploaded materials and cited where each piece of information came from. This was more reliable than asking a general LLM, which might give textbook definitions that don’t match what my professor actually taught.</p>
</section>
<section id="cross-reference-capability" class="level3">
<h3 class="anchored" data-anchor-id="cross-reference-capability">Cross-Reference Capability</h3>
<p>One useful feature: NotebookLM could synthesize across multiple sources. When I asked about brand positioning, it pulled from: - Lecture notes (professor’s explanation) - Textbook reading (formal definition) - Lecture transcript (specific examples the professor gave verbally)</p>
<p>This created a more complete picture than each source individually.</p>
</section>
</section>
<section id="the-audio-overview-feature" class="level2">
<h2 class="anchored" data-anchor-id="the-audio-overview-feature">The Audio Overview Feature</h2>
<p>NotebookLM has a feature that generates an audio “podcast” summarizing your sources. I tried it with my MKTG materials.</p>
<section id="what-it-generated" class="level3">
<h3 class="anchored" data-anchor-id="what-it-generated">What It Generated</h3>
<p>The audio overview was two AI voices having a conversation about the key concepts from my notes: - Voice 1: “So let’s talk about market segmentation…” - Voice 2: “Right, and there are four main types covered in these materials…”</p>
<p>It was surprisingly natural-sounding and covered the main topics in a logical order.</p>
</section>
<section id="actually-useful-for-review" class="level3">
<h3 class="anchored" data-anchor-id="actually-useful-for-review">Actually Useful for Review</h3>
<p>I listened to the 10-minute audio summary while walking to class. It hit the major concepts and provided a good high-level review. This was genuinely helpful for: - Quick refreshers before class - Identifying which topics I needed to study more deeply - Hearing concepts explained conversationally rather than reading dense notes</p>
</section>
<section id="limitations-of-audio-summaries" class="level3">
<h3 class="anchored" data-anchor-id="limitations-of-audio-summaries">Limitations of Audio Summaries</h3>
<p>The audio overview was good for broad strokes but missed: - Specific formulas or calculations - Detailed case study analysis - Nuanced distinctions between similar concepts</p>
<p>It’s a supplementary review tool, not a replacement for actually studying the material.</p>
<p><img src="notebooklm-audio-overview.jpg" alt="Audio Overview" style="max-width: 450px; max-height: 300px; object-fit: contain; display: block; margin: 20px auto;"></p>
<p><em>NotebookLM’s audio overview feature generating podcast-style summaries</em></p>
</section>
</section>
<section id="what-actually-worked-well" class="level2">
<h2 class="anchored" data-anchor-id="what-actually-worked-well">What Actually Worked Well</h2>
<section id="accurate-source-attribution" class="level3">
<h3 class="anchored" data-anchor-id="accurate-source-attribution">Accurate Source Attribution</h3>
<p>The biggest advantage over general LLMs: NotebookLM tells you exactly where information comes from. When studying for an exam, you need to know what the professor actually taught, not what a generic AI thinks the answer should be.</p>
<p>The citations were consistently accurate. I spot-checked multiple answers and they matched the source material.</p>
</section>
<section id="no-hallucinations-so-far" class="level3">
<h3 class="anchored" data-anchor-id="no-hallucinations-so-far">No Hallucinations (So Far)</h3>
<p>I didn’t catch NotebookLM making up information. Because it’s constrained to uploaded sources, it can’t invent facts the way ChatGPT or Claude sometimes do.</p>
<p>When I asked about topics not covered in my materials, it said “I don’t have information about that in your sources” rather than making something up.</p>
</section>
<section id="understanding-context" class="level3">
<h3 class="anchored" data-anchor-id="understanding-context">Understanding Context</h3>
<p>The lecture transcripts included the professor’s verbal explanations and examples. NotebookLM could pull from these conversational explanations, which added context that wouldn’t be in formal textbook readings.</p>
<p>For example, when the professor said “this is important for the exam,” NotebookLM picked up on that emphasis.</p>
</section>
<section id="study-guide-generation" class="level3">
<h3 class="anchored" data-anchor-id="study-guide-generation">Study Guide Generation</h3>
<p>I asked NotebookLM to create a study guide covering key concepts. It generated: - Main topics organized by lecture - Important definitions - Examples from case studies - Connections between concepts</p>
<p>All sourced from my uploaded materials, formatted clearly.</p>
</section>
</section>
<section id="limitations" class="level2">
<h2 class="anchored" data-anchor-id="limitations">Limitations</h2>
<section id="cant-handle-everything" class="level3">
<h3 class="anchored" data-anchor-id="cant-handle-everything">Can’t Handle Everything</h3>
<p>NotebookLM struggled with: - Complex diagrams or charts (it could see them but didn’t fully understand them) - Handwritten notes (I had to use typed notes)</p>
<p>For a marketing class this was fine, but for quantitative subjects it might be more limited.</p>
</section>
<section id="limited-interactivity" class="level3">
<h3 class="anchored" data-anchor-id="limited-interactivity">Limited Interactivity</h3>
<p>Unlike Claude Projects where I could have extended back-and-forth conversations, NotebookLM felt more like a Q&amp;A tool. It answered questions but didn’t build on previous context as naturally.</p>
</section>
<section id="relies-on-source-quality" class="level3">
<h3 class="anchored" data-anchor-id="relies-on-source-quality">Relies on Source Quality</h3>
<p>NotebookLM is only as good as what you upload. If your notes are incomplete or lecture transcripts are inaccurate (auto-transcription errors), the AI will work with flawed information.</p>
<p>Garbage in, garbage out.</p>
</section>
<section id="no-proactive-suggestions" class="level3">
<h3 class="anchored" data-anchor-id="no-proactive-suggestions">No Proactive Suggestions</h3>
<p>NotebookLM responds to questions but doesn’t proactively identify gaps in your knowledge or suggest what to study. It’s a passive tool that requires you to know what to ask.</p>
</section>
</section>
<section id="notebooklm-vs.-claude-projects" class="level2">
<h2 class="anchored" data-anchor-id="notebooklm-vs.-claude-projects">NotebookLM vs.&nbsp;Claude Projects</h2>
<p>I’ve used Claude Projects for similar purposes, so here’s how they compare:</p>
<section id="where-notebooklm-is-better" class="level3">
<h3 class="anchored" data-anchor-id="where-notebooklm-is-better">Where NotebookLM Is Better</h3>
<p><strong>Source citations:</strong> More explicit about where information comes from</p>
<p><strong>Audio summaries:</strong> The podcast-style overview is a unique feature Claude doesn’t have</p>
<p><strong>Grounding discipline:</strong> Stays within uploaded sources more strictly</p>
</section>
<section id="where-claude-projects-is-better" class="level3">
<h3 class="anchored" data-anchor-id="where-claude-projects-is-better">Where Claude Projects Is Better</h3>
<p><strong>Conversational depth:</strong> Claude handles multi-turn conversations better</p>
<p><strong>Synthesis and analysis:</strong> Claude is better at making connections and generating insights beyond summarizing</p>
<p><strong>Flexibility:</strong> Claude can go beyond sources when helpful; NotebookLM is rigidly constrained</p>
</section>
<section id="different-use-cases" class="level3">
<h3 class="anchored" data-anchor-id="different-use-cases">Different Use Cases</h3>
<p><strong>Use NotebookLM for:</strong> Exam prep where you need to know exactly what’s in your course materials, no more, no less.</p>
<p><strong>Use Claude Projects for:</strong> Research projects where you want the AI to synthesize across sources and generate new ideas.</p>
<p>For my MKTG exam, NotebookLM was the right tool. For writing papers or doing creative projects, Claude is probably better.</p>
</section>
</section>
<section id="is-this-actually-better-than-traditional-study-methods" class="level2">
<h2 class="anchored" data-anchor-id="is-this-actually-better-than-traditional-study-methods">Is This Actually Better Than Traditional Study Methods?</h2>
<section id="what-notebooklm-adds" class="level3">
<h3 class="anchored" data-anchor-id="what-notebooklm-adds">What NotebookLM Adds</h3>
<p><strong>Organization:</strong> Pulls information from multiple sources more efficiently than manual cross-referencing</p>
<p><strong>Quick reviews:</strong> Audio overviews provide fast refreshers</p>
<p><strong>Finding information:</strong> Faster than Ctrl+F through multiple documents</p>
</section>
<section id="what-it-doesnt-replace" class="level3">
<h3 class="anchored" data-anchor-id="what-it-doesnt-replace">What It Doesn’t Replace</h3>
<p><strong>Active recall:</strong> The act of retrieving information from memory without AI help</p>
<p><strong>Deep understanding:</strong> NotebookLM can summarize, but you still need to understand underlying concepts</p>
<p><strong>Practice problems:</strong> For quantitative subjects, you need to actually do practice problems</p>
</section>
<section id="the-risk" class="level3">
<h3 class="anchored" data-anchor-id="the-risk">The Risk</h3>
<p>The danger of tools like NotebookLM: they make it easy to feel like you’re studying without actually learning.</p>
<p>According to <a href="https://www.retrievalpractice.org/why-it-works">research on learning and retrieval practice</a>, passive review (like asking an AI questions) is less effective than active retrieval (testing yourself without assistance).</p>
<p>NotebookLM is useful for organization and review, but shouldn’t replace traditional study methods like: - Self-testing without AI help - Explaining concepts to others - Working through practice problems - Creating your own summaries and connections</p>
</section>
</section>
<section id="my-actual-study-approach" class="level2">
<h2 class="anchored" data-anchor-id="my-actual-study-approach">My Actual Study Approach</h2>
<section id="notebooklm-for-organization" class="level3">
<h3 class="anchored" data-anchor-id="notebooklm-for-organization">NotebookLM for Organization</h3>
<p>I’m using NotebookLM at the beginning of exam prep: 1. Upload all materials 2. Generate study guide to identify main topics 3. Listen to audio overview for high-level understanding 4. Use Q&amp;A to clarify confusing concepts</p>
</section>
<section id="traditional-methods-for-learning" class="level3">
<h3 class="anchored" data-anchor-id="traditional-methods-for-learning">Traditional Methods for Learning</h3>
<p>Then I switch to proven study techniques: - Create my own flashcards (without AI) - Self-test on major concepts - Practice explaining topics out loud - Work through case studies independently - Study with classmates</p>
</section>
<section id="notebooklm-as-reference" class="level3">
<h3 class="anchored" data-anchor-id="notebooklm-as-reference">NotebookLM as Reference</h3>
<p>I come back to NotebookLM when: - I need to verify a fact quickly - I can’t find something in my notes - I want to see how different sources explain the same concept</p>
<p>But the actual learning happens through traditional active study methods.</p>
</section>
</section>
<section id="final-assessment" class="level2">
<h2 class="anchored" data-anchor-id="final-assessment">Final Assessment</h2>
<p>I actually liked NotebookLM for exam prep. The source grounding is more reliable than general LLMs, the audio overview feature is genuinely useful, and the citations help verify information.</p>
<p><strong>Best use cases:</strong> - Organizing large amounts of course material - Quick reviews and refreshers - Finding specific information across multiple documents - Creating initial study guides</p>
<p><strong>Not good for:</strong> - Replacing active learning and retrieval practice - Complex mathematical or quantitative subjects - Creative synthesis beyond source material - Building deep conceptual understanding</p>
<p>For my MKTG exam specifically, NotebookLM was the right tool. It helped me organize content from lectures, readings, and transcripts efficiently. The audio overview gave me a quick review I could listen to while walking to class.</p>
<p>But I’m not relying on it as my primary study method. It’s a supplement to traditional studying, not a replacement.</p>
<p>The year of free Gemini Pro is nice, and I’ll keep using NotebookLM for course organization. But the actual studying—the hard work of learning and retaining information—still requires doing things the old-fashioned way: active recall, self-testing, and explaining concepts without AI help.</p>
<p>NotebookLM makes studying more efficient. It doesn’t make studying unnecessary.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/liuaoraymond\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>